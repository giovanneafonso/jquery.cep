/**
 * jQuery CEP plugin v0.2
 * https://github.com/giovanneafonso/jquery.cep
 */

!function(t){function n(t){return t.toString().replace(/\D/g,"").substr(0,8)}function a(t){var a="",e=n(t);return a=e.length>5?e.substr(0,5)+"-"+e.substr(5,3):e}function e(n,a){t("["+a+"]").each(function(){var e=t(this),o=e.attr(a);n[o]&&e.val(n[o])})}var o="http://cep.republicavirtual.com.br/web_cep.php?formato=json&cep=";t.fn.cep=function(r){var u={autofill:!0,autofill_attr:"data-cep",done:function(){}};return"object"==typeof r?u=t.extend(u,r):"function"==typeof r&&(u.done=r),this.each(function(){var r=t(this);r.on("keyup change",function(){var i=n(r.val());r.val(a(i)),8===i.length&&(r.attr("disabled",!0),t.get(o+i,function(t){u.autofill&&e(t,u.autofill_attr),u.done(t)}).always(function(){r.attr("disabled",!1)}))})}),this}}(jQuery);