!function(t){function n(t){return t.toString().replace(/\D/g,"").substr(0,8)}function a(t){var a=n(t);return a.length>5?a.substr(0,5)+"-"+a.substr(5,3):a}function e(n,a){t("["+a+"]").each(function(){var e=t(this),r=e.attr(a);n[r]&&e.val(n[r]).trigger("change")})}var r="http://cep.republicavirtual.com.br/web_cep.php?formato=json&cep=";t.fn.cep=function(o){var i={autofill:!0,autofill_attr:"data-cep",done:function(){}};return"object"==typeof o?i=t.extend(i,o):"function"==typeof o&&(i.done=o),this.each(function(){var o=t(this);o.on("keyup change",function(){var u=n(o.val());o.val(a(u)),8===u.length&&(o.attr("disabled",!0),t.get(r+u,function(t){i.autofill&&e(t,i.autofill_attr),i.done(t)}).always(function(){o.attr("disabled",!1)}))})}),this}}(jQuery);